<script>
    function movePage(e) {
        var list = $("#patient_visit_tab");
        var li = list.children();
        var lengthMinusOne = li.length - 1;
        var index = 0;
        var num = $("#patient_visit_tab li").length;
        var prevLi = $(li[0]).css("background-color", "");
        $("#next").click(function () {
            index++;
            if (index > lengthMinusOne) {
                index = 0;
            }
            prevLi.css("background", "");
            if ($(li[index]).attr("style"))
            {
                if (index != 0) {
                    $(li[index]).prevAll().css("text-decoration", "none");
                }
            }
            $(li[index]).next().attr("style", "text-decoration:underline;");
        });
        $("#prev").click(function () {
            index--;
            if (index < 0) {
                index = lengthMinusOne;
            }
            if ($("#patient_visit_tab li").attr("style"))
            {
                $("#patient_visit_tab li").removeAttr("style");
            }
            prevLi = $(li[index]).attr("style", "text-decoration:underline;");
        });
    }
    function insert_row(tableid, elem) {
        var x = dynTableRow(elem);
        dynTableCloneRow(tableid, x);
        var table = document.getElementById('complaintsTable');
        for (var i = 0; i < table.rows.length - 1; i++) {
            var complaintsName = dynTableGetNodeInRow(table.rows[i + 1], 'complaintsValue').value;
        }
        if (complaintsName == "") {
            alert("Enter Complaints");
            return false;
        }
        else {
            var newRow = dynTableAppendRow(tableid);
            dynTableGetNodeInRow(newRow, "complaintsValue").value = "";
            dynTableGetNodeInRow(newRow, "compId").value = "";
            dynTableGetNodeInRow(newRow, "complaintsDurations").value = "";
            dynTableGetNodeInRow(newRow, "compDurataionSelect").value = "";
            dynTableGetNodeInRow(newRow, "compCurrentStatus").value = "";
            dynTableGetNodeInRow(newRow, "addnotes").value = "";
            dynTableGetNodeInRow(newRow, "minus").className = 'ace-icon fa fa-minus';
        }
    }
    function delete_row(elem) {
        var x = dynTableRow(elem);
        var table = document.getElementById('complaintsTable');
        var table_length = table.rows.length;
        for (var i = 0; i < table_length - 1; i++) {
            if (table_length > 2) {
                dynTableDeleteRow(x);
            }
        }
    }
    function insert_servicerow(tableid, elem) {
        var x = dynTableRow(elem);
        dynTableCloneRow(tableid, x);
        var table = document.getElementById('serviceOrderTable');
        for (var i = 0; i < table.rows.length - 1; i++) {
            var serviceName = dynTableGetNodeInRow(table.rows[i + 1], 'serviceName').value;
        }
        if (serviceName == "") {
            alert("Enter Service");
            return false;
        }
        else {
            var newRow = dynTableAppendRow(tableid);
            dynTableGetNodeInRow(newRow, "serviceName").value = "";
            dynTableGetNodeInRow(newRow, "itemRID").value = "";
            dynTableGetNodeInRow(newRow, "serviceReqId").value = "";
            dynTableGetNodeInRow(newRow, "qtyService").value = "";
            dynTableGetNodeInRow(newRow, "processServiceOn").value = "";
            dynTableGetNodeInRow(newRow, "addInstructions").value = "";
            dynTableGetNodeInRow(newRow, "minus").className = 'ace-icon fa fa-minus';
            dcomethealth.Patients.autocompleteService();
        }
    }
    function delete_servicerow(elem) {
        var x = dynTableRow(elem);
        var table = document.getElementById('serviceOrderTable');
        var table_length = table.rows.length;
        for (var i = 0; i < table_length - 1; i++) {
            if (table_length > 2) {
                dynTableDeleteRow(x);
            }
        }
    }
    function insert_rxrow(tableid, elem) {
        var x = dynTableRow(elem);
        dynTableCloneRow(tableid, x);
        var table = document.getElementById('rxOrderTable');
        for (var i = 0; i < table.rows.length - 1; i++) {
            var drugName = dynTableGetNodeInRow(table.rows[i + 1], 'drugName').value;
        }
        if (drugName == "") {
            alert("Enter DrugName");
            return false;
        }
        else {
            var newRow = dynTableAppendRow(tableid);
            dynTableGetNodeInRow(newRow, "drugName").value = "";
            dynTableGetNodeInRow(newRow, "SkuRID").value = "";
            dynTableGetNodeInRow(newRow, "drugHRid").value = "";
            dynTableGetNodeInRow(newRow, "drugDid").value = "";
            dynTableGetNodeInRow(newRow, "strength").value = "";
            dynTableGetNodeInRow(newRow, "strengthSelect").value = "";
            dynTableGetNodeInRow(newRow, "duration").value = "";
            dynTableGetNodeInRow(newRow, "durataionSelect").value = "";
            dynTableGetNodeInRow(newRow, "whenSelect").value = "";
            dynTableGetNodeInRow(newRow, "morning").value = "";
            dynTableGetNodeInRow(newRow, "afternoon").value = "";
            dynTableGetNodeInRow(newRow, "evening").value = "";
            dynTableGetNodeInRow(newRow, "night").value = "";
            dynTableGetNodeInRow(newRow, "drugQty").value = "";
            dynTableGetNodeInRow(newRow, "minus").className = 'ace-icon fa fa-minus';
            dcomethealth.Patients.autoCompleteDrug();
        }
    }
    function delete_rxrow(elem) {
        var x = dynTableRow(elem);
        var table = document.getElementById('rxOrderTable');
        var table_length = table.rows.length;
        for (var i = 0; i < table_length - 1; i++) {
            if (table_length > 2) {
                dynTableDeleteRow(x);
            }
        }
    }
    $('body').on('focus', "#processServiceOn", function () {
        $(this).datepicker({
            format: 'dd-mm-yyyy'
        });
    });
    $('.show').click(function () {
        $('.targetDiv').hide();
        $('#div' + $(this).attr('target')).slideToggle('').siblings('.targetDiv').hide('');
    });
</script>
<style>
    .pg{
        display: inline-block;
        padding-left: 0;
        margin: 20px 0;
        border-radius: 1px;

    } 
    .pg li{
        float:left;
        list-style-type: none;
        padding: 6px;
        display: inline;
        color: #0d5d4d;
        font-size: 12px;

    }
    /*    .page li a{
            text-decoration: none;
            padding: .2em 1em;
            color: #369;
            background-color: grey;
        }*/
    /*    .page li:hover{
          padding: 10px;
          background-color: grey;
          color: #fff;        
      }*/
</style>
<div class="panel panel-gray hidden">
    <div class="panel-heading"> 
        <div class="col-md-10"><strong><small><span id="patName">Today's Patient!</span></small></strong></div>
        <div class="input-group col-md-2 pull-right">
            <input id="patSearch" placeholder="Search patient..." class="form-control" type="text">
            <input id="patRid" type="hidden"><div class="input-group-addon"><i class="fa fa-search"></i></div>
        </div>
    </div>
    <div class="panel-body">
        <div class="col-md-2 col-sm-2 col-xs-2">
            <div class="panel list-group">
                <a data-toggle="collapse" data-parent="#accordion" href="#complaints" class="list-group-item"><i class="fa fa-users"></i><small> Today's Patients</small></a> 
                <a data-toggle="collapse" data-parent="#accordion" href="#vitals" class="list-group-item"><i class="fa fa-spinner"></i><small> Awaiting</small><span class="badge badge-danger"> </span></a> 
                <a data-toggle="collapse" data-parent="#accordion" href="#diagnosis" class="list-group-item"><i class="fa fa-check"></i><small> Completed</small><span class="badge badge-success"> </span></a> 
            </div>
        </div>
        <div class="col-md-10 col-sm-10 col-xs-10" id="patientDiv">
        </div>
    </div>
</div>
<div class="panel panel-gray ">
    <div class="panel-heading"> 
        <div class="col-md-10">
            <strong><small><span id="patName">Patient Name!</span></small></strong>
            <span id="patDemoInfo" class="text-primary" style="font-size: small"></span>
            <span class="text-primary pull-right" style="font-size: small">Link to medical history</span>
        </div>
        <div class="input-group col-md-2 pull-right">
            <input id="patSearch" placeholder="Search patient..." class="form-control" type="text">
            <input id="patRid" type="hidden"/>
            <div class="input-group-addon"><i class="fa fa-search"></i></div>
        </div>
    </div>
    <div class="panel-body panel-gray">
        <div class="col-md-2 col-sm-2 col-xs-2">
            <div class="panel list-group">
                <a class="show list-group-item" target="1"><i class="fa fa-info-circle"></i><small> Complaints</small></a> 
                <a class="show list-group-item" target="2"><i class="fa fa-heart-o"></i><small> Vitals</small></a> 
                <a class="show list-group-item" target="3"><i class="fa fa-flask"></i><small> Diagnosis</small></a> 
                <a class="show list-group-item" target="4"><i class="fa fa-edit"></i><small> Clinical Notes</small></a> 
                <a class="show list-group-item" target="5"><i class="fa fa-flag-o"></i><small> Treatment Order</small></a>
                <a data-toggle="collapse" data-parent="#accordion" href="#treatmentCompleted"  class="list-group-item"><span class="badge">1</span> <i class="fa fa-flag-checkered"></i><small> Treatment Completed</small></a> 
                <a class="show list-group-item" target="6"><i class="fa fa-medkit"></i><small> Rx. Order</small></a> 
                <a data-toggle="collapse" data-parent="#accordion" href="#scheduleProcedure" class="list-group-item"><i class="fa fa-calendar-o"></i><small> Schedule Procedure</small></a> 
                <a data-toggle="collapse" data-parent="#accordion" href="#communications" class="list-group-item"><i class="fa fa-comments-o"></i><small> Communications</small></a> 
                <a data-toggle="collapse" data-parent="#accordion" href="#files" class="list-group-item"><i class="fa fa-folder-open-o"></i><small> Files</small></a>
                <a data-toggle="collapse" data-parent="#accordion" href="#ledgers" class="list-group-item"><i class="fa fa-book"></i><small> Ledgers</small></a> 
            </div>
        </div>
        <div class="col-md-10 col-sm-10 col-xs-10">
            <div id="pageContent" class="panel panel-body">
                <div class="panel-group panel-info">
                    <ul class="pg" id="patient_visit_tab">
                    </ul>
                    <div class="panel panel-default">
                        <div id="div1" class="targetDiv">                            
                            <div class="row col-md-12"><div class="pull-right"><a href="#" onclick="dcomethealth.Patients.submitComplaints();" class="btn btn-primary btn-sm">Save</a></div></div>
                            <table id="complaintsTable" class="table table-condensed table-hover">
                                <thead>
                                    <tr>
                                        <td width="2%"></td>
                                        <td width="30%"><b><small>Complaints</small></b></td>
                                        <td width="10%"><b><small>Durations</small></b></td>
                                        <td width="10%"><b><small>DurationsSelect</small></b></td>
                                        <td width="15%"><b><small>Current Status</small></b></td>
                                        <td width="45%"></td>
                                        <td width="2%"></td>
                                    </tr>
                                </thead>
                                <tbody id="complaintsTbody">
                                    <tr>
                                        <td><i id="minus" class="ace-icon fa fa-minus hidden" onclick="delete_row(this)"></i></td>
                                        <td><input type="text" id="complaintsValue" name="complaintsValue" class="col-md-12" /><br><span><small><a href="#">show Teeth</a></small></span>
                                            <input type="hidden" id="compId" value=""/>
                                        </td>
                                        <td><input type="text" id="complaintsDurations" class="col-md-12"/></td>
                                        <td><select id="compDurataionSelect" class="col-md-12 dcomet-c-s_ddict_duration-list">
                                            </select></td>
                                        <td><select id="compCurrentStatus"  class="col-md-12 dcomet-c-s_ddict_complaint_status-list"></select></td>
                                        <td><span id="addnotes"><small><a href="#">add Notes</a></small></span></td>
                                        <td><i class="ace-icon fa fa-plus red" onclick="insert_row('complaintsTable', this)"></i></td>
                                    </tr>
                                </tbody>
                            </table>
                        </div>  
                    </div>
                    <div class="panel panel-default">
                        <div id="div2" class="targetDiv">
                            <div id="vitals" class="targetDiv">
                                <div class="row col-md-12"><div class="pull-right"><a href="#" onclick="dcomethealth.Patients.submit();" class="btn btn-primary btn-sm">Save</a></div></div>
                                <div class="row col-md-12"><hr></div>
                                <div class="col-md-2">
                                    <label id="height" class="hidden row col-md-12 col-sm-12 col-xs-12">Height</label>
                                    <div class="input-group">
                                        <input type="text" id="od_vital_height" maxlength="3" class="form-control" onkeypress="return dcomethealth.validation.isNumberKey(event, this)" placeholder="height"/>
                                        <input type="hidden" id="visitVitalId"/>
                                        <div class="input-group-btn">
                                            <select id="od_vital_height_unit" class="dcomet-c-s_ddict_height-list input-group-addon form-control"></select>
                                        </div>
                                    </div>
                                    <span class="text-primary"><small>BMI:</small></span>
                                </div>
                                <div class="col-md-2">
                                    <label id="weight" class="hidden row col-md-12 col-sm-12 col-xs-12">Weight</label>
                                    <div class="input-group">
                                        <input type="text" id="od_vital_weight" maxlength="3" class="form-control" onkeypress="return dcomethealth.validation.isNumberKey(event, this)" placeholder="weight"/>
                                        <div class="input-group-btn">
                                            <select id="od_vital_weight_unit" class="dcomet-c-s_ddict_weight-list input-group-addon form-control"></select>
                                        </div>
                                    </div>
                                </div>
                                <div class="col-md-2">
                                    <label id="blood" class="hidden row col-md-12 col-sm-12 col-xs-12">Blood Pressure</label>
                                    <div class="input-group">
                                        <input type="text" id="od_vital_blood_pressure" maxlength="6" class="form-control" placeholder="blood pressure"/>
                                        <div class="input-group-btn">
                                            <select id="od_vital_blood_pressure_unit" class="dcomet-c-s_ddict_blood_pressure-list input-group-addon form-control"></select>
                                        </div>
                                    </div>
                                </div>
                                <div class="col-md-2">
                                    <label id="heart" class="hidden row col-md-12 col-sm-12 col-xs-12">Heart Rate</label>
                                    <div class="input-group">
                                        <input type="text" id="od_vital_heart_rate" class="form-control" maxlength="3" placeholder="heart rate" onkeypress="return dcomethealth.validation.isNumberKey(event, this)" />
                                        <div class="input-group-btn">
                                            <select id="od_vital_heart_rate_unit" class="dcomet-c-s_ddict_heart_rate-list row input-group-addon form-control"></select>
                                        </div>
                                    </div>
                                </div>
                                <div class="col-md-2">
                                    <label id="respiratory" class="hidden row col-md-12 col-sm-12 col-xs-12">Respiratory Rate</label>
                                    <div class="input-group">
                                        <input type="text" id="od_vital_resporatory_rate" class="form-control" maxlength="3" placeholder="respiratory rate" onkeypress="return dcomethealth.validation.isNumberKey(event, this)"/>
                                        <div class="input-group-btn">
                                            <select id="od_vital_resporatory_rate_unit" class="dcomet-c-s_ddict_respiratory_rate-list row input-group-addon form-control"></select>
                                        </div>
                                    </div>
                                </div>
                                <div class="col-md-2">
                                    <label id="bodyTemp" class="hidden row col-md-12 col-sm-12 col-xs-12">Body Temperature</label>
                                    <div class="input-group">
                                        <input type="text" id="od_vital_body_temp" class="form-control" maxlength="6" placeholder="body temperature" onkeypress="dcomethealth.validaion.isDecimalKey(event)"/>
                                        <div class="input-group-btn">
                                            <select id="od_vital_body_temp_unit" class="dcomet-c-s_ddict_body_temperature-list row input-group-addon form-control"></select>
                                        </div>
                                    </div>
                                </div>

                            </div>
                        </div>
                        <div class="panel panel-default">
                            <div id="div3" class="targetDiv">
                                <div id="diagnosis" class="targetDiv">
                                    <div class="row col-md-12"><div class="pull-right"><a href="#" class="btn btn-primary btn-sm">Save</a></div></div>
                                    <div class="row col-md-12"><hr></div>
                                    <div class="row col-md-12">
                                        <span><small><b>Diagnosis</b></small></span>
                                        <textarea id="diagnosisadfafd" maxlength="100" class="col-md-12 col-sm-12 col-xs-12"></textarea>
                                    </div>
                                </div></div>
                            <div class="panel panel-default" style="">
                                <div id="div4" class="targetDiv">
                                    <div id="clinicalNotes" class="targetDiv">
                                        <div class="row col-md-12"><div class="pull-right"><a href="#" class="btn btn-primary btn-sm" onclick="dcomethealth.Patients.save()">Save</a></div></div>
                                        <div class="row col-md-12"><hr></div>
                                        <div class="row col-md-12">
                                            <span><small><b>Clinical Notes</b></small></span>
                                            <div class="" id="template"> </div>
                                        </div>
                                    </div>
                                </div>
                                <div class="panel panel-default">
                                    <div id="div6" class="targetDiv">
                                        <div id="rxOrder" class="targetDiv">
                                            <div class="row col-md-12">
                                                <div class="pull-right">
                                                    <a href="#" class="btn btn-default btn-sm">Print Rx.</a>
                                                    <a href="#" onclick="dcomethealth.Patients.submitRxOrder();" class="btn btn-primary btn-sm">Save</a></div>
                                            </div>
                                            <input type="hidden" id="drugId"/>
                                            <table id="rxOrderTable" class="table table-condensed table-hover">
                                                <thead>
                                                    <tr>
                                                        <td></td>
                                                        <td width="25%"><b><small>Drug Name</small></b></td>
                                                        <td width="8%"><b><small>Strength</small></b></td>
                                                        <td width="10%"></td>
                                                        <td width="5%"><b><small>Duration</small></b></td>
                                                        <td width="10%"></td>
                                                        <td width="12%"><b><small>When</small></b></td>
                                                        <td width="5%"><b><small>M</small></b></td>
                                                        <td width="5%"><b><small>A</small></b></td>
                                                        <td width="5%"><b><small>E</small></b></td>
                                                        <td width="5%"><b><small>N</small></b></td>
                                                        <td width="10%"><b><small>Qty</small></b></td>
                                                        <td></td>
                                                    </tr>
                                                </thead>
                                                <tbody id="rxOrderTbody">
                                                    <tr>
                                                        <td><i id="minus" class="ace-icon fa fa-minus hidden" onclick="delete_rxrow(this)"></i></td>
                                                        <td><input type="text" id="drugName" name="drugName" class="col-md-12"/><input type="hidden" id="SkuRID" name="SkuRID"/><input type="hidden" id="drugHRid" name="drugHRid"/><input type="hidden" id="drugDid" name="drugDid"/><br><span><small><a href="#">add Notes</a></small></span></td>
                                                        <td><input type="text" id="strength" class="col-md-12"/></td>
                                                        <td><select id="strengthSelect" class="col-md-12"><option>mg</option></select></td>
                                                        <td><input type="text" id="duration" class="col-md-12"/></td>
                                                        <td><select id="durataionSelect" class="col-md-12 dcomet-c-s_ddict_duration-list"></select></td>
                                                        <td><select id="whenSelect" class="col-md-12 dcomet-c-s_ddict_dosage_time-list"></select></td>
                                                        <td><input type="text" id="morning" class="col-md-12"/></td>
                                                        <td><input type="text" id="afternoon" class="col-md-12"/></td>
                                                        <td><input type="text" id="evening" class="col-md-12"/></td>
                                                        <td><input type="text" id="night" class="col-md-12"/></td>
                                                        <td><input type="text" id="drugQty" class="col-md-12"/></td>
                                                        <td><i class="ace-icon fa fa-plus red" onclick="insert_rxrow('rxOrderTable', this)"></i></td>
                                                    </tr>
                                                </tbody>
                                            </table>

                                        </div></div>
                                    <div class="panel panel-default">
                                        <div id="div5" class="targetDiv">
                                            <div id="treatmentOrder" class="targetDiv">
                                                <div class="row col-md-12">
                                                    <div class="pull-right">
                                                        <a href="#" class="btn btn-default btn-sm">Print</a>
                                                        <a href="#" class="btn btn-primary btn-sm" onclick="dcomethealth.Patients.submitService();">Save</a></div>
                                                </div>
                                                <table id="serviceOrderTable" class="table table-condensed table-hover">
                                                    <thead>
                                                        <tr>
                                                            <td></td>
                                                            <td width="30%"><b><small>Service Name</small></b></td>
                                                            <td width="10%"><b><small>Qty</small></b></td>
                                                            <td width="15%"><b><small>Process on</small></b></td>
                                                            <td width="45%"></td>
                                                            <td></td>
                                                        </tr>
                                                    </thead>
                                                    <tbody id="serviceOrderTbody">
                                                        <tr>
                                                            <td><i id="minus" class="ace-icon fa fa-minus hidden" onclick="delete_servicerow(this)"></i>
                                                            </td>
                                                            <td><input type="text" id="serviceName" name="serviceName" class="col-md-12"/><input type="hidden" id="itemRID" value=""/><input type="hidden" id="serviceReqId" value=""/><br><span><small><a href="#">show Teeth</a></small></span></td>
                                                            <td><input type="text" id="qtyService" class="col-md-12"/></td>
                                                            <td><input type="text" id="processServiceOn" class="col-md-12"/></td>
                                                            <td><span id="addInstructions"><small><a href="#">add Instructions</a></small></span></td>
                                                            <td><i class="ace-icon fa fa-plus red" onclick="insert_servicerow('serviceOrderTable', this)"></i></td>
                                                        </tr>
                                                    </tbody>
                                                </table>
                                            </div></div>
                                        <div class="panel panel-default"><div id="files" class="panel-collapse collapse">
                                                <form action="" class="dropzone dz-clickable">
                                                    <div class="dz-default dz-message"><span>Drop files here to upload</span></div>
                                                </form>
                                            </div></div>
                                        <div class="panel panel-default"><div id="ledgers" class="panel-collapse collapse">
                                                <div class="pull-right">
                                                    <div class="btn-group open">
                                                        <button type="button" class="btn btn-default-alt dropdown-toggle alt-border" data-toggle="dropdown">
                                                            Create <span class="caret"></span></button>
                                                        <ul class="dropdown-menu" role="menu">
                                                            <li><a href="#">Invoice</a></li>
                                                            <li><a href="#">Receipt</a></li>
                                                            <li><a href="#">Advance</a></li>
                                                            <li><a href="#">Refund</a></li>
                                                        </ul>
                                                    </div>
                                                </div>
                                                <table id="ledgersTable" class="table table-condensed table-hover">
                                                    <thead>
                                                        <tr>
                                                            <td><b><small>Date</small></b></td>
                                                            <td><b><small>Type</small></b></td>
                                                            <td><b><small>Invoice / Receipt No</small></b></td>
                                                            <td><b><small>Credit</small></b></td>
                                                            <td><b><small>Debit</small></b></td>
                                                            <td><b><small>Balance</small></b></td>
                                                            <td><b><small>Actions</small></b></td>
                                                        </tr>
                                                    </thead>
                                                    <tbody id="ledgersTbody">
                                                        <tr>
                                                            <td><small>27-12-2016</small></td>
                                                            <td><small>Invoice</small></td>
                                                            <td><small><a href="">INV6545</a></small></td>
                                                            <td><small>2,500.00</small></td>
                                                            <td><small>0.00</small></td>
                                                            <td><small>2,500</small></td>
                                                            <td><small>Print</small></td>
                                                        </tr>
                                                        <tr>
                                                            <td><small>27-12-2016</small></td>
                                                            <td><small>Receipt</small></td>
                                                            <td><small><a href="">REC6545</a></small></td>
                                                            <td><small>0.00</small></td>
                                                            <td><small>2,500</small></td>
                                                            <td><small>0.00</small></td>
                                                            <td><small>Print</small></td>
                                                        </tr>
                                                    </tbody>
                                                </table>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>


